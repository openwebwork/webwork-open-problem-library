# DESCRIPTION
# 
## ENDDESCRIPTION
## DBsubject('Calculus')
## DBchapter('Topics in Differentiation')
## DBsection('Maclaurin and Taylor Polynomials')
## KEYWORDS('linear approximation','differentials')
## TitleText1('Calculus')
## EditionText1('9')
## AuthorText1('Anton')
## Section1('9.7')
## Problem1('10')
## Author('Brian Burns')
## Institution('John Wiley & Sons')
#***************************************************************


DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
  "PGstandard.pl",
  "MathObjects.pl",
  "contextFraction.pl",
  "littleneck.pl",
  "PGgraphmacros.pl",
  "PGcourse.pl"
);
# allow the student to change the seed for this problem.

rand_button();
TEXT(beginproblem());

###################################
# Setup
@l=([1,1,0,-1],[1,2,1,0],[2,1,0,1],[3,1,0,-1],[3,2,-1,0],[5,2,1,0],[7,2,-1,0],[3,1,0,-1]);
($a,$b,$s,$c)=@{$l[random(0,$#l,1)]};
$p=Formula("$a*pi")->reduce;
$f=Formula("sin($p*x/$b)")->reduce;
$df=Formula("$p*cos($p*x/$b)/$b")->reduce;
$df2=Formula("-$a**2*pi**2*sin($p*x/$b)/$b**2")->reduce;
$df3=Formula("-$a**3*pi**3*cos($p*x/$b)/$b**3")->reduce;
$df4=Formula("$a**4*pi**4*sin($p*x/$b)/$b**4")->reduce;

Context("Fraction");
$fx0=Compute("0");
$dfx0=Formula("($a)*(pi)/$b")->reduce;

$df3x0=Compute("(-$a**3)/(6*$b**3)");
$df3x0=Formula("$df3x0*(pi)^3");

$df2x0=Compute("0");
$df4x0=Compute("0");
$ans0d=Formula("$fx0");
$ans1d=Formula("$ans0d+$dfx0*x")->reduce;
$ans2d=Formula("$ans1d+$df2x0*x^2")->reduce;
$ans3d=Formula("$ans2d+$df3x0*x^3")->reduce;
$ans4d=Formula("$ans3d+$df4x0*x^4")->reduce;
Context("Numeric");
$ans0=Compute("$ans0d");
$ans1=Compute("$ans1d");
$ans2=Compute("$ans2d");
$ans3=Compute("$ans3d");
$ans4=Compute("$ans4d");
Context()->variables->add(m=>'Real');
$ans6=Compute("(-1)^m*($a*pi/$b)^(2*m+1)*x^(2*m+1)/(2m+1)!");
#******************

###################################
# Main text
Context()->texStrings;
BEGIN_TEXT
Find the Maclaurin polynomials of orders \(n = 0, 1, 2, 3,\) and \(4\), and then find the \(\small{n}\)th Maclaurin polynomials for the function in sigma notation.
$PAR
Enter the Maclaurin polynomials below for \($f\).$PAR
\(p_0(x)=\)  \{ans_rule(20) \}$PAR
\(p_1(x)=\)  \{ans_rule(20) \}$PAR
\(p_2(x)=\)  \{ans_rule(20) \}$PAR
\(p_3(x)=\)  \{ans_rule(20) \}$PAR
\(p_4(x)=\)  \{ans_rule(20) \}$PAR
\(p_n(x)=\) \( \displaystyle  \sum_{m=0}^{n} \) \{ans_rule(30) \}
END_TEXT

###################################
# Answers

#$showPartialCorrectAnswers = 0;

ANS($ans0->cmp);
ANS($ans1->cmp);
ANS($ans2->cmp);
ANS($ans3->cmp);
ANS($ans4->cmp);
$ans6->{test_points}=[[1,-0.1],[0,2],[3,1],[1,1],[2,-1],[3,-2],[4,-2],[0,-1],[2,2],[3,3],[4,.5]];
ANS($ans6->cmp);

###################################
Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$PAR SOLUTION $PAR
 Let \(f(x)=$f\),then \[f'(x)=$df,\; f''(x)=$df2,\; f'''(x)=$df3,\; f^{(4)}(x)=$df4\]Then \[f(0)=$fx0, \;f'(0)=$dfx0,\; \frac{f''(0)}{2}=$df2x0,\; \frac{f'''(0)}{6}=$df3x0,\; \frac{f^{(4)}(0)}{24}=$df4x0\]$PAR
Then we have, 
\[ \begin{align}
& p_0(x)=f(0)=$ans0d \\
& p_1(x)=f(0)+f'(0)x=$ans1d \\
& p_2(x)=f(0)+f'(0)x+\frac{f''(0)}{2}x^2=$ans2d\\
& p_3(x)=f(0)+f'(0)x+\frac{f''(0)}{2}x^2 +\frac{f'''(0)}{6}x^3=$ans3d\\
& p_4(x)=f(0)+f'(0)x+\frac{f''(0)}{2}x^2 +\frac{f'''(0)}{6}x^3+\frac{f^{(4)}(0)}{24}x^4=$ans4d\\

\end{align}\]

\[p_n(x)=\displaystyle\sum_{m=0}^{n}\frac{(-1)^{m}  ($dfx0 )^{2m+1} x^{2m+1}}{(2m+1)!}\]
END_SOLUTION
Context()->normalStrings;

###################################
ENDDOCUMENT();
