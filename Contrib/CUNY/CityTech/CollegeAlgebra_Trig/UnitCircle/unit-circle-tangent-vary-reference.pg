##DESCRIPTION
##  Trigonometry problem: Find values of trig functions at given angles using unit circle
##ENDDESCRIPTION

##KEYWORDS('trigonometry', 'unit circle', 'angle', 'angles', 'radians', 'trig functions', 'trigonometric functions')

## DBsubject(Trigonometry)
## DBchapter(Trigonometric functions)
## DBsection(Unit circle)
## Level(2)
## Author(K. Andrew Parker)
## Institution(CUNY City Tech)
## Language(en)

########################################################################

DOCUMENT();      

loadMacros(
   "PGstandard.pl",     # Standard macros for PG language
   "MathObjects.pl",
   "PGML.pl"
);

# Print problem number and point value (weight) for the problem
TEXT(beginproblem());

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 1;

##############################################################
#
#  Setup
#
#
Context("Numeric");
Context()->flags->set(
  reduceConstants=>0,
  reduceConstantFunctions=>0,
  tolType=>'absolute',
  tolerance=>0.0005
);

Parser::Number::NoDecimals();

%unit = (
  6 => {
    x => Formula("sqrt(3)/2"),
    nx => Formula("-(sqrt(3)/2)"),
    y => Formula("1/2"),
    ny => Formula("-(1/2)"),
    t => Formula("1/sqrt(3)"),
    nt => Formula("-(1/sqrt(3))"),
  },
  3 => {
    x => Formula("1/2"),
    nx => Formula("-(1/2)"),
    y => Formula("sqrt(3)/2"),
    ny => Formula("-(sqrt(3)/2)"),
    t => Formula("sqrt(3)"),
    nt => Formula("-sqrt(3)")
  },
  4 => {
    x => Formula("sqrt(2)/2"),
    nx => Formula("-(sqrt(2)/2)"),
    y => Formula("sqrt(2)/2"),
    ny => Formula("-(sqrt(2)/2)"),
    t => Formula("1"),
    nt => Formula("-1")
  }
);


@angl = ( 0 );
@an= ( 0 );

$denom=3;
@n = ( 1, $denom-1, $denom+1, 2*$denom-1, 2*$denom+1, -$denom+1, -$denom-1, -2*$denom+1 );
$t = $unit{$denom}{t}; $nt = $unit{$denom}{nt};
@anskey = ($t, $nt, $t, $nt, $t, $t, $nt, $t);

$j=random(0,7,1);
$angl[0]=Formula("( $n[$j] pi )/ $denom")->reduce;
$an[0]= $anskey[$j];

do { $k=random(0,7,1); } until ($k!=$j);
$angl[1]=Formula("( $n[$k] pi )/ $denom")->reduce;
$an[1]= $anskey[$k];


$denom=4;
@n = ( 1, $denom-1, $denom+1, 2*$denom-1, 2*$denom+1, -$denom+1, -$denom-1, -2*$denom+1 );
$t = $unit{$denom}{t}; $nt = $unit{$denom}{nt};
@anskey = ($t, $nt, $t, $nt, $t, $t, $nt, $t);

$j=random(0,7,1);
$angl[2]=Formula("( $n[$j] pi )/ $denom")->reduce;
$an[2]= $anskey[$j];

do { $k=random(0,7,1); } until ($k!=$j);
$angl[3]=Formula("( $n[$k] pi )/ $denom")->reduce;
$an[3]= $anskey[$k];


$denom=6;
@n = ( 1, $denom-1, $denom+1, 2*$denom-1, 2*$denom+1, -$denom+1, -$denom-1, -2*$denom+1 );
$t = $unit{$denom}{t}; $nt = $unit{$denom}{nt};
@anskey = ($t, $nt, $t, $nt, $t, $t, $nt, $t);

$j=random(0,7,1);
$angl[4]=Formula("( $n[$j] pi )/ $denom")->reduce;
$an[4]= $anskey[$j];

do { $k=random(0,7,1); } until ($k!=$j);
$angl[5]=Formula("( $n[$k] pi )/ $denom")->reduce;
$an[5]= $anskey[$k];



##############################################################
#
#  Text
#
#

BEGIN_PGML

Without using a calculator, state the _exact_ value of the following trig functions for the specified angle.

a) [`` \tan\left([$angl[0]]\right) = ``] [__________]{$an[0]}

a) [`` \tan\left([$angl[2]]\right) = ``] [__________]{$an[2]}

a) [`` \tan\left([$angl[4]]\right) = ``] [__________]{$an[4]}

END_PGML

BEGIN_PGML_HINT

What is the reference angle for each?

And what does that tell you about the tangent of each angle?

END_PGML_HINT

COMMENT("Funded by US DoE Title V: Opening Gateways grant.");

ENDDOCUMENT();        
