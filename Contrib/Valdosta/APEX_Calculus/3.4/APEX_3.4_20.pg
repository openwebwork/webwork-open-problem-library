#Problem APEX 3.4.20

DOCUMENT();

# Load whatever macros you need for the problem
loadMacros(
	"PG.pl",
	"PGbasicmacros.pl",
	"PGchoicemacros.pl",
	"PGanswermacros.pl",
	"PGauxiliaryFunctions.pl",
	"extraAnswerEvaluators.pl",
	"MathObjects.pl"
);

## DBsubject(Calculus - single variable)
## DBchapter(Applications of differentiation)
## DBsection(Concavity and points of inflection)
## Institution('Valdosta State University')
## Author('S. V. Ault')
## TitleText1('APEX Calculus')
## AuthorText1('Hartman')
## EditionText1('3.0')
## Section1('3.4')
## Problem1('20')
## Also handles problems 33, 46.

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

$b = random(1,4,1);

$e = random(1,5,1)*random(-1,1,2);
if ($b == 1) {
  $f = "\dfrac{x^4}{4} - x^3 + $e";
} else {
  $f = "\dfrac{x^4}{4} - $b x^3 + $e";
}

$c1 = 0;
$c2 = 3*$b;

$df = "x^3 - $c2 x^2";

$d = 2*$c2;
$ddf = "3x^2 - $d x";

$b2 = 2*$b;

$y1 = $e; 
$y2 = (($b2)**4)/4 - $b*($b2)**3 + $e; 

@ans_cu = "(-INF, 0) U ($b2, INF)";
@ans_cd = "(0, $b2)";

$infl = "(0, $y1), ($b2, $y2)";

$max = List("DNE");
$min = List("$c2");

$max1 = List("0");
$min1 = List("$b2");

BEGIN_TEXT
$PAR
$BBOLD NOTE: $EBOLD
When using interval notation in WeBWorK, remember
that:
$BR $SPACE $SPACE $SPACE $SPACE You use 'INF' for \(\infty\) 
and '-INF' for \(-\infty\).
$BR $SPACE $SPACE $SPACE $SPACE And use 'U' for the union symbol.
$BR Enter $BBOLD DNE $EBOLD if an answer does not exist.
$PAR
$HR
\[
  f(x) = $f 
\]
$PAR
a) Determine the intervals on which \(f\) is concave up and
concave down.
$BR
\(f\) is concave up on: \{ ans_rule(30)\}
$BR
\(f\) is concave down on: \{ ans_rule(30)\}
$PAR
b) Based on your answer to part (a), determine the
inflection points of \(f\).
Each point should be entered as an $BBOLD ordered pair $EBOLD
(that is, in the form \( (x, y) \)). $BR
\{ ans_rule(25) \}
(Separate multiple answers by commas.)
$PAR
c) Find the critical numbers of \(f\) and use the Second
Derivative Test, when possible, to determine the relative
extrema.  List only the \(x\)-coordinates. $BR
Relative maxima at: \{ans_rule(20)\} (Separate multiple answers by commas.)$BR
Relative minima at: \{ans_rule(20)\} (Separate multiple answers by commas.)$BR
$PAR
d) Find the \(x\)-value(s) where \(f'(x)\) has a relative maximum
or minimum. $BR
\(f'\) has relative maxima at: \{ans_rule(20)\} 
(Separate multiple answers by commas.)$BR
\(f'\) has relative minima at: \{ans_rule(20)\} 
(Separate multiple answers by commas.)$BR
END_TEXT

ANS(interval_cmp(@ans_cu, strings=>["DNE"]));
ANS(interval_cmp(@ans_cd, strings=>["DNE"]));
ANS(interval_cmp($infl, unions=>'no') );
ANS($max->cmp());
ANS($min->cmp());
ANS($max1->cmp());
ANS($min1->cmp());


SOLUTION(EV3(<<'END_SOLUTION'));
$BR$BBOLD Solution:$EBOLD 
$PAR
\( f'(x) = $df \) and \(f''(x) = $ddf \).  Set \(f''(x) = 0\)
and solve. 
\[
  $ddf = 0 \;\Rightarrow \; 3x(x - $b2) = 0.
\]
$PAR  
Thus, concavity could change at \(x = 0\) and \(x = $b2\).
By testing sample points in each interval, we find \(f'' > 0\) 
(\(f\) is concave up)
on \( (-\infty, 0) \cup ($b2, \infty) \) and \(f'' < 0\)
(\(f\) is concave down)
on \( (0, $b2) \). 
$PAR
Therefore, there are inflection points at \(x = 0, $b2\).
Plug these \(x\) values into the original function to find 
the corresponding
\(y\)-values:
\[
  f(0) = $y1, \quad f($b2) = $y2.
\]
The inflection points occur at \( (0, $y1) \) and
\( ($b2, $y2) \).

$PAR
Find critical numbers by setting \(f'(x) = 0\)
\[
  \begin{array}{rcl}
    $df &=& 0 \\
    x^2(x - $c2) &=& 0 \\  
    &&\\
    x &=& 0, $c2.
  \end{array}
\]
Since \(f''(0) = 0\), the Second Derivative Test is inconclusive.
However, the First Derivative Test shows that there is neither
a minimum nor maximum at \(x = 0\), since \(f'(x)\) does not
change sign at \(x = 0\).$BR
Since \(f''($c2) > 0\), there is a local minimum at \(x = $c2\).

$PAR
To find where \(f'(x)\) will have a relative extreme point,
first set \(f''(x) = 0\).  As above, \(x = 0, $b2\).$BR
Find \( f'''(x) =  6x - $d \).  Since \(f'''(0) = -$d < 0\),
there is a local maximum (for \(f'\)) at \(x = 0\).
Since \(f'''($b2) = $d > 0\), there is a 
local minimum (for \(f'\)) at \(x = $b2\).

END_SOLUTION
ENDDOCUMENT();    

