# DESCRIPTION
# A scaffolded problem where students simplify a trigonometric expression one step at a time
# ENDDESCRIPTION

## KEYWORDS('')
## DBsubject(Trigonometry)
## DBchapter(Analytic trigonometry)
## DBsection(Using and proving general identities)
## TitleText1('Trigonometric Simplification Problem')
## MO(1)
## Level(3)
## Static(1)
## Language(en)
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')
## Date('12/08/2024')
## Author('Mercredi Chasman, Chenfei Peng')
## Institution('UMinnMorris')

DOCUMENT();
loadMacros(
  "PGstandard.pl",
  "MathObjects.pl",   
  "PGML.pl",
  "PGcourse.pl",
  'scaffold.pl',
  'parserPopUp.pl',
);

$showPartialCorrectAnswers = 1;

# Define popup options for each step of the trigonometric simplification process
$popup1 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Rewrite in terms of sin/cos');
$popup2 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Add/combine terms');
$popup3 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Law of Exponents');
$popup4 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Pythagorean Identity');
$popup5 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Factor');
$popup6 = PopUp([ '?', 'FOIL', 'Law of Exponents', 'Factor', 'Add/combine terms', 'Pythagorean Identity', 
'Pythagorean Theorem', 'Cancel', 'Rewrite in terms of sin/cos'], 'Cancel');

Context("Numeric");
Context()->functions->enable("sin", "cos", "tan");
$a = Formula("sin(x) + 1");
$b = Formula("(sin(x) + 1)^2");
$c = Formula("cos(x)^2");
$d = Formula("1 - sin(x)^2");
$e = Formula("1 - sin(x)");

BEGIN_PGML
Prove the following trigonometric identity one step at a time:

[```\Big( \tan(x) + \sec(x) \Big)^2=\frac{1+\sin(x)}{1-\sin(x)} ```]
END_PGML

Scaffold::Begin(
    can_open => "when_previous_correct",
    is_open  => "correct_or_first_incorrect"
);


Section::Begin('Step 1');

BEGIN_PGML

[``
\Big( \tan(x) + \sec(x) \Big)^2 = \Big( ``] [________]{Formula("sin(x)")} [``/``] [________]{Formula("cos(x)")} [``+``]
[________]{1} [``/``] [________]{Formula("cos(x)")} [`` \Big)^2``]

*Which applies here?*
[________]{$popup1}
END_PGML

Section::End();

Section::Begin('Step 2');

BEGIN_PGML


[``
= \Big( ( ``] [________]{$a} [`` ) / \cos(x) \Big)^2``]

*Which  applies here?*
[________]{$popup2}
END_PGML

Section::End();

Section::Begin('Step 3');

BEGIN_PGML


[``
= ``] [________]{$b} [``/``] [________]{$c}

*Which applies here?*
[________]{$popup3}
END_PGML

Section::End();

Section::Begin('Step 4');

BEGIN_PGML

[``
= (\sin(x) + 1)^2 / ( ``] [________]{$d} [`` ) ``]

*Which applies here?*
[________]{$popup4}
END_PGML

Section::End();

Section::Begin('Step 5');

BEGIN_PGML

[``
= (\sin(x) + 1)^2 / \big[ (1 + \sin(x)) ( ``] [________]{$e} [`` ) \big] ``]

*Which applies here?*
[________]{$popup5}

END_PGML

Section::End();

Section::Begin('Step 6');

BEGIN_PGML

[``
= ( ``] [________]{$a} [`` ) / ( ``] [________]{$e} [`` ) ``]

*Which applies here?*
[________]{$popup6}

END_PGML

Section::End();

Scaffold::End();

BEGIN_PGML_SOLUTION
In this solution, we apply the following trigonometric identities and algebraic rules step by step to simplify the expression      (tan(x) + sec(x))^2.

- **Step 1**: We start by expressing tan(x) and sec(x) in terms of sine and cosine.
- **Step 2**: We simplify the expression by combining terms.
- **Step 3**: Apply the law of exponents to simplify the fraction.
- **Step 4**: Use the identity 1 - (sin(x))^2 = (cos(x))^2 to rewrite the denominator.
- **Step 5**: Factor the denominator into a product of binomials.
- **Step 6**: Cancel common terms to achieve the final simplified expression.

Final result: (1 + sin(x)) / (1 - sin(x))
END_PGML_SOLUTION

ENDDOCUMENT();
