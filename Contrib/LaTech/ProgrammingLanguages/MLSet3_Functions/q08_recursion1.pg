## DESCRIPTION
## Generates a recursive function and ask for values returned.
## ENDDESCRIPTION

## DBsubject(Programming Languages)
## DBchapter(ML)
## DBsection(Functions)
## Date(12/05/2025)
## Institution(Louisiana Tech)
## Author(Jason Terry)
## Level(2)
## KEYWORDS('programming languages','ml','sml','recursion','function')


DOCUMENT();

## Load libraries
loadMacros(
"PGstandard.pl",
"PGcourse.pl",
"PGML.pl"
);

## Set context to numeric answers
Context("Numeric");

## Create ML function
sub myfun {
    my $n = $_[0];
    if ($n == 1) {
        return($n1);
    } elsif ($n == 2) {
        return($n2);
    } else {
        return( myfun($n-1) + myfun($n-2) );
    }
}

## Create random parameters
$n1 = random(1,4,1);
$n2 = random(5,8,1);
$n3 = $n1 + $n2;

## Create answers to problems
$ans1 = $n1;
$ans2 = $n2;
$ans3 = myfun(3);
$ans4 = myfun($n2);
$ans5 = myfun($n3);

## Display question
TEXT(beginproblem());

BEGIN_PGML
Consider the following recursive ML function:

    *fun myfun 1 = [$n1] *

    *| myfun 2 = [$n2] *

    *| myfun n = myfun(n-1) + myfun(n-2);*

Determine the value returned by the following expressions:

    myfun(1) = [__________]{$ans1}

    myfun(2) = [__________]{$ans2}

    myfun(3) = [__________]{$ans3}

    myfun([$n2]) = [__________]{$ans4}

    myfun([$n3]) = [__________]{$ans5}

END_PGML

BEGIN_PGML_SOLUTION
Solution:

    myfun(1) = [$ans1]

    myfun(2) = [$ans2]

    myfun(3) = [$ans3]

    myfun([$n2]) = [$ans4]

    myfun([$n3]) = [$ans5]

END_PGML_SOLUTION

ENDDOCUMENT();
