#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Resolver ecuaciones racionales 
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el OPL
#  Library/Rochester/setAlgebra08LinearEqns/sw1_6_29.pg
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Ecuaciones racionales)
## DBsection(Denominador monomio)
## Level(1)
## KEYWORDS('ecuaciones','monomios')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"contextInequalities.pl",
"AnswerFormatHelp.pl",
"PGchoicemacros.pl",
"contextFraction.pl",
"problemRandomize.pl",
"PGpolynomialmacros.pl",
"contextFraction.pl",
"parserImplicitEquation.pl"  #Para usar cuando la respuesta sea una ecuación
);

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

##############################################################
#  Setup

# coeficientes ecuación de tipo a/(x+1) - b/(2) = c/(3x+3)
$a = random(3,9,1);
$b = random(1,5,2);
$c = random(2,8,2);

Context("Fraction");
$seis_a = 6*$a;
$tres_b = 3*$b;
$dos_c = 2*$c;
$dos_c_menos_seis_a = 2*$c - 6*$a;
$seis_a_menos_dos_c = 6*$a - 2*$c ;

$frac = Fraction("-$dos_c_menos_seis_a","3*$b");

$num  = 6*$a-2*$c-3*$b;
$deno = 3*$b;

$answer = Fraction($num,$deno);

TEXT(beginproblem());

Context()->texStrings;
BEGIN_TEXT
Solucionar la siguiente ecuación 
\[ 
\frac{$a}{x+1} - \frac{$b}{2} = \frac{$c}{3x+3}
\]
$PAR
\(x = \) \{ans_rule(10)\} \{ AnswerFormatHelp("number") \}
END_TEXT
Context()->normalStrings;

ANS( $answer->cmp() );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Paso 1:$EBOLD Factorizar \(3\) del denominador en el término de la derecha
\[ 
\frac{$a}{x+1} - \frac{$b}{2} =  \frac{ $c }{3(x+1)} 
\]
$PAR
$BBOLD Paso 2:$EBOLD Multiplicar a ambos lados por el común denominador, \( 6(x+1) \). Ojo aquí aclarar este paso al multiplicar por términos con variables.  
\[ 
6(x+1)\left( \frac{$a}{x+1} - \frac{$b}{2} \right) = 6(x+1) \left( \frac{ $c }{3(x+1)}  \right)
\]
aplicando la propiedad distributiva y simplificando factores
\[
$seis_a - $tres_b (x+1) = $dos_c
\]
$PAR
$BBOLD Paso 4:$EBOLD Agrupando términos
\[ 
- $tres_b (x+1) = $dos_c - $seis_a = $dos_c_menos_seis_a
\]
dividiendo por \(-$tres_b\)
\[ 
x+1 = \frac{$dos_c_menos_seis_a}{-$tres_b} = \frac{$seis_a_menos_dos_c}{$tres_b}
\]
$PAR
$BBOLD Paso 5:$EBOLD Despejando para \(x\) y simplificando
\[ 
x = \frac{$seis_a_menos_dos_c}{$tres_b} -1 = \frac{$num}{$deno}
\]
$PAR
por lo tanto la solución es \(x = $answer\).
END_SOLUTION
Context()->normalStrings;

ENDDOCUMENT();