#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Problema que pregunta por la coordenadas 
#  de un punto en el plano cartesiano dada 
#  su representacion gráfica.
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/coordenadas_cartesianas/Hallar_Coordenadas_de_un_Punto.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Plano cartesiano)
## DBsection(Representacion de puntos)
## Level(1)
## KEYWORDS('grafica', 'puntos','plano','coordenadas')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"AnswerFormatHelp.pl"
);

TEXT(beginproblem());

$refreshCachedImages=1;

Context("Point");
$a = random(-9,9,1);
$b = random(-9,9,1);
$p = Point($a,$b);

@direccion = ("unidad(es) a la derecha del","unidad(es) a la izquierda del","unidad(es) arriba del","unidad(es) debajo del",,"sobre el eje");

if ($a == 0 || $b == 0){
   $indexX = 4;
   $indexY = 4;
 }elsif($a*$b > 0){
   if ($a > 0){
      $indexX = 0;
      $indexY = 2;
   }else{
      $indexX = 1;
      $indexY = 3;
   }
 }else{
  if ($a > 0){
      $indexX = 0;
      $indexY = 3;
   }else{
      $indexX = 1;
      $indexY = 2;
   }
}

$gr = init_graph(-10,-10,10,10,axes=>[0,0],grid=>[10,10],size=>[450,450]);

# adicionando un punto 
$gr->stamps( closed_circle($a,$b,'blue') );

# adicionandole una etiqueta al punto
$gr->lb(new Label($a+0.1,$b+.6,'(a,b)','black','center','middle'));

BEGIN_TEXT
$BCENTER
\{  image(insertGraph($gr),width=>200,height=>200,tex_size=>450 ) \}
$BR
$BR
(Click en la gráfica para agrandar)
$ECENTER
$BR
¿Cuáles son las coordenadas del punto \((a,b)\) mostrado en la gráfica anterior?
$BR
$BR
\((a,b)=\)  \{ans_rule(30)\} \{ AnswerFormatHelp("points") \}
END_TEXT

ANS( $p->cmp());

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Identificar la ubicación del punto$EBOLD:
$PAR 
El punto se encuentra \(\{abs($a)\}\) $direccion[$indexX] eje \(y\) y \(\{abs($b)\}\) $direccion[$indexY] eje \(x\).
$PAR
Por lo tanto las coordenadas del punto son: \($p\). 
END_SOLUTION
Context()->normalStrings;

ENDDOCUMENT();