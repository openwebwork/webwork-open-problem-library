#  DESCRIPTION
#
#  Tipo: opción múltiple, única respuesta
#  Dada una región sombreada en dos dimensiones encontrar la region sombreada.  

#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/desigualdades_lineales_dos_variables/desigualdades_lineales_2_variables.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Desigualdades)
## DBsection(Dos variables)
## Level(1)
## KEYWORDS('desigualdades','representar','intervalos','grafica')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"contextInequalities.pl",
"AnswerFormatHelp.pl",
"PGchoicemacros.pl",
"contextFraction.pl",
"problemRandomize.pl"
);

TEXT(beginproblem());
$refreshCachedImages = 1;

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

##############################################################
#  Setup

Context("Inequalities-Only");
Context()->flags->set(formatStudentAnswer=>'parsed');

$a = non_zero_random(-6,6,0.5);

@direccion = ("derecha", "izquierda", "arriba", "abajo");

@ineqn =(  "x \geq $a", "x \leq $a",
                 "y \geq $a", "y \leq $a"  );  #Arreglo de posibles inecuaciones a preguntar

#$k = random(0,3,1);               #Indice aleatorio de la inecuación a preguntar 

@perm = shuffle(4);                 #Barajando las inequaciones a preguntar
@ineqn = @ineqn[@perm];
@inv = invert(@perm);             #Recuperando el arreglo original

$gr = init_graph(-10,-10,10,10, 'axes' => [0,0], grid=>[10,10], size=>[450,450]);
add_functions($gr, "$a for x in <-10,10> using color:blue and weight:2");

# The inequality graphed
#$gr -> stamps( closed_circle($low,0.0,'blue') );

#Haciendo una lista de preguntas y respuestas
$mc = new_checkbox_multiple_choice();

$mc -> qa ("La inecuación que representa la región sombreada es: \( $ineqn[0] \) ", "\( $ineqn[0] \) $BR");

$mc -> extra(
"\( $ineqn[1] \) $BR",
"\( $ineqn[2] \)  $BR",
"\( $ineqn[3] \) $BR", 
);

$mc -> makeLast("Ninguna de las anteriores");

##############################################################
#
#  Text
#
##    to disable arithmetic operations in the answer.  Student must simplify.

Context()->texStrings;
BEGIN_TEXT
$BR
$BBOLD Problema en proceso ...$BR
Falta dibujar bien la parte sombreada y relacionarla con la solución$BR
Falta la solución
$EBOLD
$BR
$BR
$PAR
Considere la siguiente gráfica:
$PAR
$BCENTER
 \{ image(insertGraph($gr), width=>250, height=>250, tex_size=>320); \}
$ECENTER
$BR
(Click en la gráfica para agrandar)
$BR
\{ $mc -> print_q() \}
$BR
\{ $mc -> print_a() \}
END_TEXT
Context()->normalStrings;

##############################################################
#  Answers
#

install_problem_grader(~~&std_problem_grader);

ANS( checkbox_cmp( $mc->correct_ans() ) );


SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Paso 1:$EBOLD
$PAR
$BBOLD Paso 2:$EBOLD
END_SOLUTION

ENDDOCUMENT();