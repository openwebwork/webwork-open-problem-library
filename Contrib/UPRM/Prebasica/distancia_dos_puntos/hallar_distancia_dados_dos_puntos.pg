#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Dados dos puntos en una gráfica encontrar su distancia.
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/distancia_dos_puntos/hallar_distancia_dados_dos_puntos.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Plano cartesiano)
## DBsection(Distancia entre puntos)
## Level(1)
## KEYWORDS('puntos','plano','coordenadas','distancia')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"problemRandomize.pl",
"AnswerFormatHelp.pl"
);

TEXT(beginproblem());

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

Context("Point");
$A = Point(random(-9,9,1),random(-9,9,1));
$B = Point(random(-9,9,1),random(-9,9,1));

#Extrayendo coordenadas de A y B
($aA, $bA) = $A->value;
($aB, $bB) = $B->value;

$dx = $aA-$aB;
$dy = $bA-$bB;

$d2 = ($dx)**2 + ($dy)**2;

#Context()->functions->enable("sqrt");
$answer = Compute("sqrt($d2)");

BEGIN_TEXT
Encuentre la distancia del punto \($A\) al punto \($B\). 
$PAR
$BBOLD(Puede entrar su respuesta usando radicales, si usa decimales entrarlos con al menos tres cifras en su parte decimal usando redondeo de ser necesario)$EBOLD
$BR
$BR
\(d =\)  \{ans_rule(30)\} \{ AnswerFormatHelp("number") \}
END_TEXT

ANS( $answer->cmp(tolType => 'absolute', tolerance => .001) );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
La distancia entre dos puntos \((x_1,y_1)\) y \((x_2,y_2)\) del plano está dada por:
\[
d = \sqrt{ (x_2 - x_1)^2 + (y_2 - y_1)^2 },
\]
luego para los puntos \($A\) y \($B\) se tiene que:
\[
\begin{align*}
 d &= \sqrt{ ($aB - $aA)^2 + ($bB - $bA)^2 } \\[.3cm]
             &= \sqrt{ $dx + $dy } \\[0.3cm]
             &=  \sqrt{$d2} = $answer
\end{align*}
\]
Por lo tanto la respuesta es: $answer
END_SOLUTION
Context()->normalStrings;

ENDDOCUMENT();