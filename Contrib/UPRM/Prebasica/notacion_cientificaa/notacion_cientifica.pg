#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Pasar de notación científica a normal
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/notacion_cientifica/notacion_cientifica.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Sistemas numéricos)
## DBsection(Notación científica)
## Level(1)
## KEYWORDS('notacion', 'cientifica')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"AnswerFormatHelp.pl",
"problemRandomize.pl",
"contextLimitedNumeric.pl"
);

TEXT(beginproblem());
#$refreshCachedImages = 1;

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

#################
### Setup

#construyendo el número en notación científica: a.b x 10^n
$a = random(1,9);
$b = random(1,99);
$n = non_zero_random(-4,4);
$abs_n = abs($n);

#Necesario para la explicación en la solución

#Creando un string de ceros de tamaño n.
$zeros = '0'x($abs_n);

if ( $n > 0 ){
  $simbolo = ">";
  $direccion = "derecha";
  $cadena_tmp = "$a.$b".$zeros;
}else{
 $simbolo = "<";
 $direccion = "izquierda";
 $cadena_tmp = $zeros."$a.$b";
}


#Cadena que representará el número
$numero_nota_cient = "$a."."$b\times 10^{$n}";

#Construyendo el número de la respuesta
if ($b > 9){
 $rp = 100*$a + $b;
 $r = $rp*(10**($n-2));
}else{
 $rp = 10*$a + $b;
 $r = $rp*(10**($n-1));
}

Context("Numeric");
Context("LimitedNumeric");

$answer = Compute($r);

Context()->texStrings;
BEGIN_TEXT
Eliminar los productos y potencias del número 
\[ 
 $numero_nota_cient 
\]
$PAR
Contestación: \{ans_rule(10)\} \{ AnswerFormatHelp("number") \}
END_TEXT
Context()->normalStrings;


ANS( $answer->cmp() );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Paso 1:$EBOLD Escribir el número
\[
$a.$b
\]
$PAR
$BBOLD Paso 2:$EBOLD Como \( n $simbolo 0 \) se añade $abs_n cero(s) a la $direccion 
\[
$cadena_tmp
\]
y luego se mueve el punto decimal $abs_n unidad(es) a la $direccion y se obtiene:
\[
 $numero_nota_cient = $answer,
\]
por lo tanto, la solución es: \( $answer \).
END_SOLUTION
Context()->normalStrings;


ENDDOCUMENT();