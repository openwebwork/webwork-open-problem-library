#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Problema en contexto que pide calcular una de las variables  
#  en m=dx/dy.
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/ecuaciones_lineales_2_variables_parte_1/razon_de_cambio_y_pendiente.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Ecuaciones lineales)
## DBsection(Problemas verbales)
## Level(1)
## KEYWORDS('lineal','pendiente','cambios')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"AnswerFormatHelp.pl",
"contextFraction.pl",
"problemRandomize.pl"
);

TEXT(beginproblem());

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

#################
### Setup

Context("Numeric");

@directionY = ("subimos","bajamos");
$indexDirectionY = random(0,1,1);

#$m = random(-8,8,1);
$m = non_zero_random(-8,8,1); #cambiado a no cero pues se tendría que cambiar muchas cosas.
$dy = random(1,20,1);

Context("Fraction");

if ( $indexDirectionY == 1 ){
       $answer = Compute("- $dy/$m");
  }else{
      $answer = Compute("$dy/$m");
}

$rdy = $answer*$m;

Context()->texStrings;
BEGIN_TEXT
Si caminamos sobre el eje \(x\) a partir de una recta \(l\) con pendiente $m y $directionY[$indexDirectionY] $dy pies verticalmente, ¿qué distancia en pies nos movimos en la dirección del eje \(x\) para llegar de nuevo a la recta (+ es hacia la derecha, - es hacia la izquierda)?
$BR
$BR
\( \Delta x = \) \{ ans_rule(20) \}
\{ AnswerFormatHelp("numbers") \}  
END_TEXT
Context()->normalStrings;

ANS(  $answer->cmp(studentsMustReduceFractions=>1) );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Paso 1$EBOLD: Aplicar definición de pendiente: Si \(m\) es la pendiente, sabemos que:
\[ 
  m=\frac{\mbox{cambio en } y}{\mbox{cambio en } x}.
\]
Sea \(n\) los pies que nos movemos en la dirección de \(x\), entonces $BITALIC cambio en \(x=n\)$EITALIC.
$PAR 
$BBOLD Paso 2$EBOLD: Como $directionY[$indexDirectionY] $dy pies, entonces $BITALIC cambio en \(y=$rdy\)$EITALIC. La pendiente \(m\) es $m. Entonces
\[
\begin{align*}
                        $m &= \frac{$rdy}{n} \\[0.3cm]
         n\times $m &= n\times \frac{$rdy}{n} \\[0.3cm]
                    $m n &= $rdy \\[0.3cm]
 \frac{$m n}{$m} &= \frac{$rdy}{$m} \\[0.3cm]
                          n  &= $answer                         
\end{align*}
\]
Por tanto, nos movemos \($answer\) pies en la dirección de \(x\).
END_SOLUTION
Context()->normalStrings;


ENDDOCUMENT();