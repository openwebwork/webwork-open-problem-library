#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Problema que pregunta a los estudiantes 
#  por la pendiente de una recta dada su grafica.
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/ecuaciones_lineales_2_variables_parte_1/razon_de_cambio_y_pendiente.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Ecuaciones lineales)
## DBsection(Forma y=mx+b)
## Level(1)
## KEYWORDS('grafica', 'lineal','pendiente')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"AnswerFormatHelp.pl",
"contextFraction.pl",
"problemRandomize.pl"
);

TEXT(beginproblem());
$refreshCachedImages = 1;

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

#################
### Setup

$m = random(-3,3,1);
$b = random(-9,9,1);
$equaLineal = Formula("$m x + $b");
$answer = Compute("$m");

@x = ();
@y = ();
$x[0] = random(-3,0,1);
$x[1] = random(1,3,1);
$y[0] = $equaLineal->eval( x=>$x[0]);
$y[1] = $equaLineal->eval( x=>$x[1]);

$gr = init_graph(-10,-10,10,10,axes=>[0,0],grid=>[20,20],size=>[450,450]);

add_functions($gr, "$equaLineal for x in <-10,10> using color:blue and weight:2");

Context("Fraction");
BEGIN_TEXT
¿Cuál es la pendiente de la recta que se muestra en la gráfica?
$BR
$BR
$BCENTER
\{  image(insertGraph($gr),width=>200,height=>200,tex_size=>450 ) \}
$BR
$BR
(Click en la gráfica para agrandar)
$ECENTER
\( m = \) \{ans_rule(10)\}
\{ AnswerFormatHelp("number") \}
END_TEXT

ANS( $answer->cmp(studentsMustReduceFractions=>1) );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
$BBOLD Paso 1$EBOLD:  Seleccionar dos puntos de la recta. Dos puntos que pasan a través de la recta en la gráfica de arriba son \(($x[0],$y[0])\) y \(($x[1],$y[1])\).
$PAR 
$BBOLD Paso 2$EBOLD:  Calcular el valor de la pendiente. Dado dos puntos 
\[
m = \frac{y_2-y_1}{x_2-x_1}
\]
Utilizamos los puntos \(($x[0],$y[0])\) y \(($x[1],$y[1])\),
\[
m = \frac{$y[1]-$y[0]}{$x[1]-$x[0]},
\]
por lo tanto la pendiente \(m=$answer\).
END_SOLUTION

Context()->normalStrings;


ENDDOCUMENT();