#  DESCRIPTION
#
#  Tipo: respuesta corta
#  Dados dos puntos en una gráfica encontrar su distancia.
#
#  Problema WebWork escrito por Edwin Florez, 
#  <edwin.florez (at) upr (dot) edu>
#
#  Adaptado desde el sistema quiz.uprm.edu del archivo
#  pedro_prebasica/distancia_dos_puntos/hallar_distancia_dada_grafica.db
#
#  ENDDESCRIPTION

## DBsubject(Prebasica)
## DBchapter(Plano cartesiano)
## DBsection(Distancia entre puntos)
## Level(1)
## KEYWORDS('grafica', 'puntos','plano','coordenadas','distancia')
## Author(Edwin Florez)
## Institution(UPRM)
## Language(es)

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGgraphmacros.pl",
"problemRandomize.pl",
"AnswerFormatHelp.pl"
);

TEXT(beginproblem());

#  Allow for the user to try another version of the problem once they get it correct.
ProblemRandomize(when=>"Correct",onlyAfterDue=>0);

# Show which answers are correct and which ones are incorrect
$showPartialCorrectAnswers = 0;

Context("Point");
$A = Point(random(-9,9,1),random(-9,9,1));
$B = Point(random(-9,9,1),random(-9,9,1));

#Extrayendo coordenadas de A,  B
($aA, $bA) = $A->value;
($aB, $bB) = $B->value;

#Calculando el punto medio
$Pm = Point( ($aA+$aB)/2, ($bA+$bB)/2 );

#Extrayendo coordenadas de Pm
($aPm, $bPm) = $Pm->value;

$opcion =  random(0,8);

if ( $opcion == 0 ){
  $var1 = "(x_1,y_1)";
  $var2 = "$B";
  $var3 = "$Pm";
  $pregunta = "x_1";
  $answer = Compute("$aA");
}elsif( $opcion == 1 ){
  $var1 = "(x_1,y_1)";
  $var2 = "$B";
  $var3 = "$Pm";
  $pregunta = "y_1";
  $answer = Compute("$bA");
}elsif( $opcion == 2 ){
  $var1 = "$A";
  $var2 = "(x_2,y_2)";
  $var3 = "$Pm";
  $pregunta = "x_2";
  $answer = Compute("$aB");
}elsif( $opcion == 3 ){
  $var1 = "$A";
  $var2 = "(x_2,y_2)";
  $var3 = "$Pm";
  $pregunta = "y_2";
  $answer = Compute("$bB");
}elsif( $opcion == 4 ){
  $var1 = "$A";
  $var2 = "$B";
  $var3 = "(x_m,y__m)";
  $pregunta = "x_m";
  $answer = Compute("$aPm");
}elsif( $opcion == 5 ){
  $var1 = "$A";
  $var2 = "$B";
  $var3 = "(x_m,y_m)";
  $pregunta = "y_m";
  $answer = Compute($bPm);
}elsif( $opcion == 6 ){
  $var1 = "(x_1,y_1)";
  $var2 = "$B";
  $var3 = "$Pm";
  $pregunta = "(x_1,y_1)";
  $answer = Compute("$A");
}elsif( $opcion == 7 ){
  $var1 = "$A";
  $var2 = "(x_2,y_2)";
  $var3 = "$Pm";
  $pregunta = "(x_2,y_2)";
  $answer = Compute("$B");
}else{
  $var1 = "$A";
  $var2 = "$B";
  $var3 = "(x_m,y_m)";
  $pregunta = "(x_m,y_m)";
  $answer = Compute("$Pm");
}

BEGIN_TEXT
Dado que \( $var3 \) es el punto medio de \( $var1 \) y \( $var2 \), entonces el siguiente es el valor de \(  $pregunta \):
$BR
$BR
Contestación:  \{ans_rule(20)\} \{ AnswerFormatHelp("number") \}
END_TEXT

ANS( $answer->cmp() );

Context()->texStrings;
SOLUTION(EV3(<<'END_SOLUTION'));
El punto medio del segmento que une los puntos \( A = (x_1,y_1) \) y \( B = (x_2,y_2) \) se define por:
\[
P_m = (x_m, y_m), \quad \text{donde}\quad  x_m = \frac{x_1 + x_2}{2} \quad  \text{y}\quad   y_m = \frac{y_1 + y_2}{2}
\]
$BBOLD Paso 1: $EBOLD Identificar los valores dados y el valor preguntado.  \(A = $var1\) , \(B = $var2 \) y \( Pm = $var3 \).
$PAR
$BBOLD Paso 2: $EBOLD Sustituir en las ecuaciones
\[
x_m = \frac{x_1 + x_2}{2} \quad  \text{o}\quad   y_m = \frac{y_1 + y_2}{2}
\]
$PAR
y despejar para el/los valor(es) preguntado(s)
\[
$pregunta = $answer.
\]
Por lo tanto la respuesta es: \($answer\)
END_SOLUTION
Context()->normalStrings;

ENDDOCUMENT();