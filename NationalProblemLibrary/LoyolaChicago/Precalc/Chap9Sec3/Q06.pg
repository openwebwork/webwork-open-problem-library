# DESCRIPTION
# Problem from Functions Modeling Change, Connally et al., 3rd ed.
# WeBWorK problem written by Adam Spiegler, <aspiegler@luc.edu>
# ENDDESCRIPTION

## DBsubject('Precalculus')
## DBchapter('Polynomial And Rational Functions')
## DBsection('The Short-Run Behavior Of Polynomials')
## KEYWORDS('polynomial','zero','factor')
## TitleText1('Functions Modeling Change')
## EditionText1('3')
## AuthorText1('Connally')
## Section1('9.3)
## Problem1('6')
## Author('Adam Spiegler and Paul Pearson')
## Institution('Loyola University Chicago and Fort Lewis College')

DOCUMENT();       

loadMacros("PG.pl",
           "PGbasicmacros.pl",
#           "PGchoicemacros.pl",
           "PGanswermacros.pl",
           "PGgraphmacros.pl",
#           "PGauxiliaryFunctions.pl",
#           "extraAnswerEvaluators.pl",
"MathObjects.pl",
"AnswerFormatHelp.pl",
"PGcourse.pl",
"unionTables.pl",
           );
       
TEXT(beginproblem()); # standard preamble to each problem.

Context("Numeric");

$showPartialCorrectAnswers = 1;

$r = random(-3,-1,1);
$s = random(1,3,1);
$p = 3;

$a[4] = 1;
$a[3] = -3*$s - $r;
$a[2] = 3*$s**2+3*$s*$r;
$a[1] = -$s**3-3*$s**2*$r;
$a[0] = $s**3*$r;

$ans = "(x-$r)*(x-$s)^3";

$xmin = (3*$r+$s)/4;
$ymin = ($xmin-$r)*($xmin-$s)**3;

$f = "x^4+$a[3]x^3+$a[2]x^2+$a[1]x+$a[0] for x in <-5,5> using color:blue and weight:2";
$graph = init_graph(-5,$ymin-5,5,20,'axes'=>[0,0],'ticks'=>[10,1]);
$graph->lb('reset');
$graph->lb(new Label(4.8,-0.05,"x",'black','right','top'));
$graph->lb(new Label(0+.1,$a[0],"y=f(x)",'blue','left','middle'));
for ($j = 1; $j <= 4; $j++){
 $graph->lb(new Label($j,-0.05,"$j",'black','right','top'));
 $graph->lb(new Label(-$j,-0.05,"-$j",'black','right','top'))};
$point[0] = closed_circle( $r,0, black );
$point[1] = closed_circle( $s,0, black );
$graph -> stamps(@point);
plot_functions( $graph, $f); 
$fig = image(insertGraph($graph), width => 400, height => 400, tex_size => 700);

$func = Formula("x^4 + $a[3] x^3 + $a[2] x^2 + $a[1] x + $a[0]")->reduce;

Context()->texStrings;
BEGIN_TEXT
\{
ColumnTable(
"The function \( f(x) = $func \) can be factored in the form \( f(x) = (x - r_1)(x - r_2)^p \). Using the graph, determine \( r_1 \), \(r_2\), and \( p \).".
$BR.
$BR.
"\( r_1 = \) ".ans_rule(5).$SPACE.AnswerFormatHelp("numbers").$BR.
"\( r_2 = \) ".ans_rule(5).$SPACE.AnswerFormatHelp("numbers").$BR.
"\( p = \) ".$SPACE.ans_rule(5).$SPACE.AnswerFormatHelp("numbers").$BR,
$fig.
$BR.$BCENTER."(Click on graph to enlarge)".$ECENTER,
indent => 0, separation => 30, valign => "TOP"
)
\}
END_TEXT
Context()->normalStrings;

ANS( num_cmp( $r ) );
ANS( num_cmp( $s ) );
ANS( num_cmp( $p ) );


SOLUTION(EV3(<<'END_SOLUTION'));
$BR $SPACE $BR 
$BBOLD  SOLUTION $EBOLD
$BR 
The graph shows zeros at \( x= $r \) and \( x= $s \). The fact that \( f \)
$BITALIC lingers $EITALIC at \( x= $s \) before crossing the \(x\)-axis indicates a repeated zero at \( x=$s \). Since the function changes sign at \( x=$s\), the factor \( (x-$s) \) is raised to an odd power. Thus, try 
$BR
\( \ \ \ \ \ \ f(x)=(x-$r)(x-$s)^3 \)
$BR
(Check this answer by expanding and gathering like terms.)
$BR
END_SOLUTION

      

COMMENT('MathObject version');
ENDDOCUMENT();