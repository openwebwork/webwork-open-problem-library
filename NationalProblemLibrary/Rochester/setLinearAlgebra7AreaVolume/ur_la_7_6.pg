##DESCRIPTION
##KEYWORDS('matrix', 'determinant', 'volume', 'parallelepiped')
##
##ENDDESCRIPTION

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGgraphmacros.pl"
);

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

$v1 = random(-7,7,1);
$v2 = random(-7,7,1);
$v3 = random(-7,7,1);
$u1 = random(-7,7,1);
$u2 = random(-7,7,1);
$u3 = random(-7,7,1);
$w1 = random(-7,7,1);
$w2 = random(-7,7,1);
$w3 = random(-7,7,1);

# exclude linearly dependent: 

$det = $v1*$u2*$w3 + $u1*$w2*$v3 + $w1*$v2*$u3 - $v3*$u2*$w1 - $u1*$v2*$w3 - $v1*$u3*$w2; 

while ($det == 0) { 
	$v1 = random(-7,7,1);
	$v2 = random(-7,7,1);
	$v3 = random(-7,7,1);
	$u1 = random(-7,7,1);
	$u2 = random(-7,7,1);
	$u3 = random(-7,7,1);
	$w1 = random(-7,7,1);
	$w2 = random(-7,7,1);
	$w3 = random(-7,7,1);
	$det = $v1*$u2*$w3 + $u1*$w2*$v3 + $w1*$v2*$u3 - $v3*$u2*$w1 - $u1*$v2*$w3 - $v1*$u3*$w2;
}

$a1 = random(-5,5,1);
$a2 = non_zero_random(-5,5,1);
$a3 = random(-5,5,1);
$b1 = $a1 + $v1;
$b2 = $a2 + $v2;
$b3 = $a3 + $v3;
$c1 = $a1 + $u1;
$c2 = $a2 + $u2;
$c3 = $a3 + $u3;
$d1 = $a1 + $w1;
$d2 = $a2 + $w2; 
$d3 = $a3 + $w3;

BEGIN_TEXT

Find the volume of the parallelepiped with one vertex at \( ($a1, $a2, $a3), \) and adjacent vertices at \(
($b1, $b2, $b3), \) \( ($c1, $c2, $c3), \) and \( ($d1, $d2, $d3).\) 
$BR
Volume = \{ans_rule(20)\}.

END_TEXT

ANS(num_cmp(abs($det), mode=>"arith"));

ENDDOCUMENT();       # This should be the last executable line in the problem.
