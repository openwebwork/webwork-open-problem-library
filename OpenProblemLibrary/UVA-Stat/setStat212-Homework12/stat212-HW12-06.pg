## DESCRIPTION
##  Statistics: Inference about Comparing Two Populations
## ENDDESCRIPTION

## naw tagged this problem.

## DBsubject(Statistics)
## DBchapter(Simple linear regression)
## DBsection(Correlation)
## Date(07/8/2005)
## Institution(UVA)
## Author(Nolan A. Wages)
## Level(3)
## TitleText1('Statistics for Management and Economics')
## AuthorText1('Keller, Warrack')
## EditionText1('6')
## KEYWORDS('statistics', 'Two Populations', 'Inference')

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros('PGstandard.pl', 'PGML.pl', 'parserRadioButtons.pl', 'PGnumericalmacros.pl', 'PGstatisticsmacros.pl', 'PGcourse.pl');

$showPartialCorrectAnswers = 0;

$r1 = random(-0.8, -0.3,0.1);
$r1sq = $r1**2;
$r1m = 1+$r1;
$r1sqm = 1-$r1sq;
$r2 = random(-0.8, -0.3,0.1);
$r2p = 100*$r2**2;
$r2pm = 100*(1-$r2**2);
$r22 = 100*$r2;
$m = random(3,6);
$b = random(100,150,5);

@questions = (
    "If the coefficient of correlation is $r1, find the coefficient of determination",
    "If the coefficient of correlation is $r2, the percentage of the variation in y " .
    'that is explained by the variation in x is:',
    'If the coefficient of correlation between x and y is close to 1, this ' .
    'indicates that:',
    "A regression analysis between weight (y in pounds) and height (x in inches) " .
    "resulted in the following least squares line: \(\hat{y} = $b + ${m}x\).  This " .
    "implies that if the height is increased by 1 inch, the weight is expected to:",
    'If all the points in a scatter diagram lie on the least squares regression ' .
    'line, then the coefficient of correlation must be:'
);

# The first answer needs to be the correct one. 
@answers = (
    ["$r1sq", "$r1", "$r1m","$r1sqm",],
    ["$r2p%","$r2pm%","$r22%","-$r2p%"],
    [ 'there may or may not be any causal relationship between x and y',
    'y causes x to happen',
    'x causes y to happen', 'Both y causes x and x causes y'],
    ["increase by $m pounds", "increase by 1 pound", "decrease by $m pounds", "increase by $b pounds"],
    ['either 1 or -1','1','-1','0']
);

@shuffle = random_subset(3,0..4);
@radios = map { RadioButtons([$answers[$_], 'None of the above'],0)} @shuffle; 

BEGIN_PGML

a) [$questions[$shuffle[0]]]*

    [_]{$radios[0]}

b) [$questions[$shuffle[1]]]*

    [_]{$radios[1]}

c) [$questions[$shuffle[2]]]*

    [_]{$radios[2]}

END_PGML

@explanations = (
    "Recall that the coefficient of determination is \(r^2\) and in this case ".
    "\(r=$r1\) or",
    "The percentage of variation explained by the linear relationship is \(r^2\) " .
    " as a percetage or ",
    "If the coefficient of correlation between x and y is close to 1, recall " .
    "that this does not indicate casual relationship between x and y, so ",
    "In a regression line a change of 1 unit in \(x\), in this case height " .
    "results in a change of the slope (in this case $m pounds) or ",
    "If all the points in a scatter diagram lie on the least squares regression " .
    "then either the correlation coefficient is 1 or -1, the sign is determined by " .
    "the slope of the regression line.  The answer is "
);

BEGIN_PGML_SOLUTION

a) [$explanations[$shuffle[0]]]* [$radios[0]]

b) [$explanations[$shuffle[1]]]* [$radios[1]]

c) [$explanations[$shuffle[2]]]* [$radios[2]]


END_PGML_SOLUTION

ENDDOCUMENT();       # This should be the last executable line in the problem.