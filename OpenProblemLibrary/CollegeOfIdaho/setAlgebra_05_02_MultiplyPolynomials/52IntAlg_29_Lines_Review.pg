###DESCRIPTION
## Review: Absolute Value

##ENDDESCRIPTION
## DBsubject(Algebra)
## DBchapter(Linear equations and functions)
## DBsection(Equations of lines: slope-intercept form)
## Institution(The College of Idaho)
## Author(RA Cruz)
## Level(2)
## MO(1)
## TitleText1('Essentials of Intermediate Algebra')
## AuthorText1('Blitzer')
## EditionText1('1')
## Section1('5.2')
## Problem1('')
## KEYWORDS('absolute value')
## Date(2007/10/01)

DOCUMENT();

loadMacros(
    'PGstandard.pl',      'PGML.pl',
    'contextFraction.pl', 'contextFunctionAssign.pl',
    'PGcourse.pl'
);

Context('Fraction')->noreduce('(-x)-y', '(-x)+y');

@slope = (2, 1, 3, 1, 4, 1, 1, 1, 1, 2, 1, 4, 3, 4, 3, 2);
$n     = random(0, 14, 2);
$dy    = $slope[$n] * non_zero_random(-1, 1);
$dx    = $slope[ $n + 1 ];
$m     = Fraction($dy, $dx);
$b     = random(-2, 2);
$x1    = non_zero_random(-6, 6);
($num, $den) = reduce($dy * $x1 + $dx * $b, $dx);
$y1 = $den == 1 ? "$num" : "$num/$den";

parser::Assignment->Allow;
Context()->variables->add(y => 'Real');
Context()->noreduce('(-x)-y', '(-x)+y');

$line     = Compute("y=$m*x+$b")->reduce;
$line_cmp = $line->cmp->withPostFilter(sub {
    my $ans = shift;
    if ($ans->{ans_message} =~ /left side|it looks like|should be/) {
        $ans->{ans_message} =
            "Your answer must be in slope-intercept form: $BR \(y = m x + b\)";
    }
    return $ans;
});

BEGIN_PGML
Find the slope and the equation for the line passing 
through the point  [` ([$x1], [$y1]) `] with [`y`]-intercept at 
[`y = [$b]`].

a)  [` m =`]  [_]{$m}

b)  The equation for the line in slope-intercept form: [_]{$line_cmp}
END_PGML

$rhs = Formula("$m x + $b")->reduce;
BEGIN_PGML_SOLUTION
Recall that the slope through two points [`P(x_1, y_1)`] and [`Q(x_2, y_2)`] is 
[``` m = \frac{y_2-y_1}{x_2-x_1} ```]
and [`Q`] is the [`y`]-intecept or [`Q(0,[$b])`].  The slope then is
[``` m= \frac{[$b]-[$y1]}{0-[$x1]} = [$m] ```]

Therefore the equation of the line in slope-intercept form is 
[``` y = m x+ b = [$rhs] ```]
END_PGML_SOLUTION
ENDDOCUMENT();
