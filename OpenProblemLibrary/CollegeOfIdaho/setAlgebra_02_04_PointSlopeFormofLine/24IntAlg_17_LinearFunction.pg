##DESCRIPTION
## Slope-intercept form of a linear function

##ENDDESCRIPTION
## DBsubject(Algebra)
## DBchapter(Linear equations and functions)
## DBsection(Equations of lines: slope-intercept form)
## Institution(The College of Idaho)
## Author(RA Cruz)
## MLT(MLT14)
## MLTleader(1)
## Level(2)
## MO(1)
## TitleText1('Essentials of Intermediate Algebra')
## AuthorText1('Blitzer')
## EditionText1('1')
## Section1('2.4')
## Problem1('')
## KEYWORDS('linear function', 'slope-intercept form')

DOCUMENT();

loadMacros(
    'PGstandard.pl',          'PGML.pl',
    'PGtikz.pl',              'contextLimitedNumeric.pl',
    'parserImplicitPlane.pl', 'PGcourse.pl'
);

Context('Numeric');
Context()->strings->add(
    "Does not exist" => {},
    "Not defined"    => { alias => 'Does not exist' }
);

$m = Real(0);
$b = random(-4, 4, 1);

$graph = createTikZImage();
$graph->tikzLibraries('arrows.meta');
$graph->BEGIN_TIKZ
\tikzset{>={Stealth[scale=1.5]}}
\filldraw[
    draw=LightBlue,
    fill=white,
    rounded corners=10pt,
    thick,use as bounding box
] (-8.5,-8.5) rectangle (8.5,8.5);
\draw[gray] (-7,-7) grid (7,7);
\draw[->,thick] (-7.5,0) -- (7.5,0) node[above left,outer sep=3pt] {\(x\)};
\foreach \x in {-7,...,-1,1,2,...,7}
    \draw(\x,5pt) -- (\x,-5pt) node [below] {\(\x\)};
\draw[->,thick] (0,-7.5) -- (0,7.5) node[below right,outer sep=3pt] {\(y\)};
\foreach \y in {-7,...,-1,1,2,...,7}
    \draw (5pt,\y) -- (-5pt,\y) node[left] {\(\y\)};
\draw[blue,ultra thick,<->] plot[domain=-7:7] (\x,$b);
END_TIKZ

Context("ImplicitPlane");
Context()->variables->are(x => "Real", y => "Real");

$eq     = ImplicitPlane("y=$b");
$eq_cmp = $eq->cmp->withPostFilter(sub {
    my $ans = shift;
    if ($ans->{ans_message} =~ /left side|it looks like/) {
        $ans->{ans_message} =
            "Your answer must be an equation: $BR \(y = m x + b\) or \(ax + by = c\)";
    }
    return $ans;
});

BEGIN_PGML
>>
 [!Plot of a horizontonal line that passes through (0,[$b])!]{$graph}{400}
<<

Use the graph, given above, to find the slope and equation for the line.

a) Slope of the line: [` m =`] [_]{$m}

b) Equation of the line: [_]{$eq_cmp}
END_PGML

BEGIN_PGML_SOLUTION

a) Slope: In this case, the line is horizontal so the slope is 0.

b) Equation: Notice that the [`y`]-intercept is [$b], so using the slope above with the equation [`y=mx+b`] results in [`y = [$b]`].
END_PGML_SOLUTION

ENDDOCUMENT();
