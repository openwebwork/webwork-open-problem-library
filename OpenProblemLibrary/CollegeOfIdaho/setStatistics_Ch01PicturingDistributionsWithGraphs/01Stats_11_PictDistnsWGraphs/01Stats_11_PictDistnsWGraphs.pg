## DESCRIPTION
## DBsubject(Statistics)
## DBchapter(Exploratory data analysis/descriptive statistics)
## DBsection(Graphical representations)
## Institution(The College of Idaho)
## Author(R Cruz, L Danielson, J Guild)
## Level(1)
## MO(1)
## TitleText1('The Basic Practice of Statistics')
## AuthorText1('David Moore')
## EditionText1('5e')
## Section1('1')
## Problem1('')
## KEYWORDS('statistics', 'quantitative data', 'categorical data', 'bar graphs')

## Updated 2025.02 by Peter Staab, switch to PGML, use a tikz graph and add a solution.

DOCUMENT();    # This should be the first executable line in the problem.

loadMacros('PGstandard.pl', 'PGML.pl', 'PGtikz.pl', 'PGcourse.pl');

do {
    @h = map { random(1, 5) } (0 .. 3);
} until ($h[0] + $h[1] + $h[2] + $h[3] == 10);

$graph = createTikZImage();
$graph->tikzLibraries('arrows.meta');
$graph->BEGIN_TIKZ
\tikzset{>={Stealth[scale = 1.5]}}
\filldraw[
    draw = LightBlue,
    fill = white,
    rounded corners = 10pt,
    thick,
    use as bounding box
] (-1, -1) rectangle (11, 7);
\draw[->, thick] (-1, 0) -- (10, 0);

\foreach \x/\label in {2/Frosh,4/Soph,6/Junior,8/Senior}
    \draw(\x,0.25)--(\x,-0.25) node [below] {\label};
\draw[->, thick] (0, -1) -- (0, 6);
\foreach \y in {1, ..., 5}
    \draw (5pt, \y) -- (-5pt, \y) node[left] {\(\y\)};

\filldraw[fill=LightBlue, draw=black] (1.2,0) rectangle (2.8,$h[0]);
\filldraw[fill=LightSalmon, draw=black]  (3.2,0) rectangle (4.8,$h[1]);
\filldraw[fill=LightGreen, draw=black]  (7.2,0) rectangle (8.8,$h[3]);

END_TIKZ

$alt_text =
    "A bar graph with vertical bars.  The height of the bar labelled Freshman "
    . "is $h[0]. The height of the bar labelled Sophomore is $h[1].  The height of the "
    . "bar labelled Senior is $h[3].";

BEGIN_PGML
Below is a bar graph of class standing for a Finance seminar containing ten students who are either freshman, sophomores, juniors, or seniors.  In the bar graph the bar for the juniors has been omitted. 

>>[! [$alt_text] !]{$graph}{400} <<

a) What is the percentage of students in the seminar who are not juniors?  [_]{Real(100-10*$h[2])}
  
b)   The number of students in the seminar who are juniors is [_]{Real($h[2])}
END_PGML

ENDDOCUMENT();       # This should be the last executable line in the problem.