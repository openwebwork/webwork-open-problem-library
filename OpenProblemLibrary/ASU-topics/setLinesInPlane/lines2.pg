## DESCRIPTION
## Asks student to find the slope of lines through pairs of points.
## ENDDESCRIPTION

## Tagged by LD

## DBsubject(Algebra)
## DBchapter(Linear equations and functions)
## DBsection(Finding the slope)
## Institution(ASU)
## Level(3)
## KEYWORDS('Algebra', 'lines')

DOCUMENT();    # This should be the first executable line in the problem.

loadMacros('PGstandard.pl', 'PGML.pl', 'contextFraction.pl', 'PGcourse.pl');

Context('Fraction')->strings->add(undefined => {});

@pt     = ();
@slopes = ();

# defined non-zero slope
do {
    ($x1, $y1) = (random(-10, 10), random(-10, 10));
    ($x2, $y2) = (random(-10, 10), random(-10, 10));

} until ($x1 != $x2 && $y1 != $y2);
$pt[0]    = Point($x1, $y1);
$pt[1]    = Point($x2, $y2);
$slope[0] = Fraction($y2 - $y1, $x2 - $x1);

# zero slope
do {
    ($x1, $y1) = (random(-10, 10), random(-10, 10));
    ($x2, $y2) = (random(-10, 10), random(-10, 10));
} until ($x1 != $x2 && $y1 == $y2);
$pt[2]    = Point($x1, $y1);
$pt[3]    = Point($x2, $y2);
$slope[1] = 0;

# undefined slope
do {
    ($x1, $y1) = (random(-10, 10), random(-10, 10));
    ($x2, $y2) = (random(-10, 10), random(-10, 10));
} until ($x1 == $x2 && $y1 != $y2);
$pt[4]    = Point($x1, $y1);
$pt[5]    = Point($x2, $y2);
$slope[2] = 'undefined';

@slice = random_subset(3, 0 .. 2);

BEGIN_PGML
For each of the following pairs of lines, find the slope, [`m`], through the points or if undefined, type _undefined_.
a) [`[$pt[2*$slice[0]]]`] and [` [$pt[2*$slice[0]+1]] `]

    [`m=`][_]{$slope[$slice[0]]}

b) [`[$pt[2*$slice[1]]]`] and [` [$pt[2*$slice[1]+1]] `]

    [`m=`][_]{$slope[$slice[1]]}

c) [`[$pt[2*$slice[2]]]`] and [` [$pt[2*$slice[2]+1]] `]

    [`m=`][_]{$slope[$slice[2]]}

END_PGML

@solution_statements = (
    PGML('Using the formula above, we see that [`m=[$slope[0]]`]'),
    PGML('In this case, since [`y_1 = y_2`], then [`m=0`]'),
    PGML('In this case, since [`x_1=x_2`], then the slope is undefined.')
);

BEGIN_PGML_SOLUTION
Recall first of all that the slope of the line between points [`P(x_1,y_1)`] and [`Q(x_2,y_2)`] is 

[``` m = \frac{y_2-y_1}{x_2-x_1} ```]

a) [$solution_statements[$slice[0]]]*

b) [$solution_statements[$slice[1]]]*

c) [$solution_statements[$slice[2]]]*

END_PGML_SOLUTION

ENDDOCUMENT();
