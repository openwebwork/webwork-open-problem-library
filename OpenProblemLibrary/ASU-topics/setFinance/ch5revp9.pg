## DESCRIPTION
## Applied Mathematics
## ENDDESCRIPTION

## KEYWORDS('percent', 'mathematics for business', 'annuity')
## Tagged by XW

## DBsubject(Financial mathematics)
## DBchapter('Annuities')
## DBsection('Annuities')
## Date('')
## Author('')
## Institution('ASU')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
"PG.pl",
"PGbasicmacros.pl",
"PGchoicemacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"PGasu.pl"
);

TEXT(beginproblem());

$P = random(10,20,1)*100;
$b1 = random(5,10,1);
$b2 = random(3,8,1);
if($b1==$b2) {
  $b2=$b1+1;
}
$c = random(3,15,1);
$r = $c/100;

TEXT(EV2(<<EOT));
Hal invested $DOLLAR$P per year in an IRA each year for $b1 years earning
$c$PERCENT compounded annually.
$BR
At the end of $b1 years he ceased the IRA payments, but continued to invest
his accumulated amount at $c$PERCENT compounded annually for the next $b2 years.

$BR
a) What was the value of his IRA at the end of $b1 years?
$BR
Answer  = $DOLLAR \{ans_rule(20)\}

$BR
b) What was the value of the investment at the end of the next $b2 years?
$BR
Answer = $DOLLAR \{ans_rule(20)\}
$BR
$BR
EOT

HINT(EV2(<<EOT));

$BBOLD HINT: $EBOLD  $PAR
$BBOLD a) $EBOLD Hal is making regular annual deposits for the first $b1 years,
thus we need to use the annuity formula 
\( A = P \frac{(1+i)^n -1}{i} \) to find \( A\), the value
of his IRA after $b1 years.
$PAR
$BBOLD b) $EBOLD Since Hal is not making deposits anymore we need to use the
compound interest formula \( A=P(1+i)^n \) using the value found
in part a) as our \( P \).
$BR
$BR

EOT

$A1 = $P*((1+$r)**$b1 -1)/$r;
$A2 = $A1*(1+$r)**$b2;

SOLUTION(EV3(<<'EOT'));
$BBOLD SOLUTION: $EBOLD  
$PAR
$BBOLD a) $EBOLD Use the annuity formula \( A = P \frac{(1+i)^n -1}{i} \) with
P=$P, i=$r , n= $b1  to get \(A= {$A1:%0.2f}\).
$PAR
$BBOLD b)  $EBOLD
Use the compound interest formula \( A=P(1+i)^n \) with 
P= \({$A1:%0.2f}\), i=$r , n = $b2.

EOT

$ans1 = $A1;
ANS(num_cmp($ans1));

$ans2 = $A2;
ANS(num_cmp($ans2));

ENDDOCUMENT();        # This should be the last executable line in the problem.
