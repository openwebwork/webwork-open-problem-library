##DESCRIPTION
## Statistics: Introduction
##ENDDESCRIPTION

## Tagged by sawblade

## DBsubject(Statistics)
## DBchapter(Exploratory data analysis/descriptive statistics)
## DBsection(Summary statistics)
## Institution(ASU)
## MO(1)
## MLT(stat-des-five-num)
## MLTleader(1)
## Level(3)
## KEYWORDS('statistics', 'measures')

DOCUMENT();        # This should be the first executable line in the problem.

loadMacros('PGstandard.pl', 'PGML.pl', 'parserPopUp.pl', 'PGstatisticsmacros.pl',  'PGcourse.pl');


$a1 = random(20,50,1);  # median 

# produce a dataset with 7 value below and 7 values above the median. 
@data = (
    random($a1-28,$a1-24),
    random($a1-24,$a1-21),
    random($a1-21,$a1-18),
    random($a1-18,$a1-14),
    random($a1-14,$a1-10),
    random($a1-9,$a1-6),
    random($a1-5,$a1-2),
    $a1,
    random($a1+2,$a1+5),
    random($a1+6,$a1+9),
    random($a1+10,$a1+14),
    random($a1+14,$a1+18),
    random($a1+18,$a1+21),
    random($a1+22,$a1+25),
    random($a1+26,$a1+30),
);


# present the data in a random order
@sdata = @data[random_subset(15,0..14)];

($min, $Q1, $median, $Q3, $max) = five_point_summary(@data);
$IQR = $Q3-$Q1;

$outlier = $min <= $a1-1.5*$IQR || $max >= $a1+1.5*$IQR ? 1 : 0;

$dd = DropDownTF($outlier);

BEGIN_PGML
Calculate the 5 number summary and the interquartile range of the following data: 

[``` [@ join(', ', @sdata)@] ```]

a) min = [_]{Real($min)}{10}

b) [` Q_1 `]  = [_]{Real($Q1)}{10}

c) median = [_]{Real($median)}{10}

d) [` Q_3 `] = [_]{Real($Q3)}{10}

e) max = [_]{Real($max)}{10}

f) IQR = [_]{Real($IQR)}{10}

g) There is a potential outlier in this data set [_]{$dd}
END_PGML

BEGIN_PGML_SOLUTION
First, it is helpful to have the data sorted or 

[``` [@ join(', ', num_sort(@data)) @] ```]

a) min = [$min]

b) [`Q_1`] is the median of the first half of the data or [$Q1]

c) The median is the middle value of [$median]

d) [`Q_3`] is the median of the  top half of the data or [$Q3]

e) max = [$max]

f) The IQR [` Q_3 - Q_1 = [$IQR] `]

g) To check this, any values need to be 1.5 [`IQR`] below [`Q_1`] or above [`Q_3`].  There [@ $outlier ? 'are' : 'are no' @] values. 

END_PGML_SOLUTION
ENDDOCUMENT();  