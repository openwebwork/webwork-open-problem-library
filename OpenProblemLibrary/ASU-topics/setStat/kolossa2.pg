##DESCRIPTION
## Find the mean, median and mode of a set of numbers.
##ENDDESCRIPTION

## Tagged by sawblade

## DBsubject(Statistics)
## DBchapter(Exploratory data analysis/descriptive statistics)
## DBsection(Summary statistics)
## Institution(ASU)
## MLT(stat-des-mmm)
## MLTleader(1)
## Level(4)

DOCUMENT();    # This should be the first executable line in the problem.

loadMacros(
    'PGstandard.pl',         'PGML.pl',
    'PGstatisticsmacros.pl', 'parserRadioButtons.pl',
    'PGcourse.pl'
);

$a1 = random(10, 20);
$a2 = random(5,  25);

@data = (
    $a1, $a1, $a1, $a2,
    random($a1 + 1, $a1 + 3),
    random($a1 - 3, $a1 - 1),
    999, random($a1 - 6, $a1 - 4)
);

@sdata = @data[ random_subset(8, 0 .. 7) ];

$mode   = $a1;
$mean   = stats_mean(@data);
$median = $a1;

$rb = RadioButtons([ 'Mean', 'Median', 'Mode', 'None of the Above' ], 0);

$output = "";
$output .= "x_{$_}= $sdata[$_-1], " for (1 .. 8);

BEGIN_PGML
  
Calculate the mode, mean, and median of the following data:   

[``` [$output]```]

a) Mode = [_]{Real([$mode])}{10}

b) Mean = [_]{Real([$mean])}{10}

c) Median = [_]{Real([$median])}{10}

d) Which measure of center does not work well here?

[_]{$rb}

END_PGML

($sum) = stats_SX_SXX(@data);

@sortdata = num_sort(@data);

BEGIN_PGML_SOLUTION
Note first that the sum of the data is [$sum].  Also, to the find the median, it's helpful to have the data sorted.  

[``` [@ join(", ", @sortdata) @] ```]

a) The mode is the most frequent data point.  This is [$mode]. 
b) The mean is 
[``` \frac{[$sum]}{8} = [$mean] ```]
c) The median is the middle point and since the middle fall between the 4th and 5th, the mean is the average of these two or [$median]. 

d) Due to the very large (999) value, this pulls the mean far to the right and therefore this does not represent the center. 
END_PGML_SOLUTION

ENDDOCUMENT();       # This should be the last executable line in the problem.