##KEYWORDS('integrals', 'partial fractions')
##DESCRIPTION
## Use partial fraction decomp. to help evaluate an integral.
##ENDDESCRIPTION

## AmberHolden tagged
## Shotwell cleaned

## DBsubject('Calculus')
## DBchapter('Techniques of Integration')
## DBsection('Integration by Partial Fractions')
## Date('6/3/2002')
## Author('')
## Institution('')
## TitleText1('Calculus: Early Transcendentals')
## EditionText1('6')
## AuthorText1('Stewart')
## Section1('7.4')
## Problem1('29,39')

DOCUMENT();

loadMacros(
"PGbasicmacros.pl",
"PGanswermacros.pl",
"PGauxiliaryFunctions.pl",
"MathObjects.pl",
"parserFormulaUpToConstant.pl"
);

$showPartialCorrectAnswers = 1;
Context()->flags->set(limits => [1,2]);


$aa = random(3,6,1);
$bb = random(2,5,1);
$cc = random(1,5,1);
$dd = random(2,4,1);
$uu = random(1, 5,1);
$cub0 = $cc+$bb;
$quad0 = $aa+$dd;
$u2 = $uu**2;
$lin0 = $bb*$u2;
$const0 = $aa*$u2;

$f = FormulaUpToConstant("-$aa/x+$bb*ln(x)+($cc/2)*ln(x^2+$u2)+($dd/$uu)*arctan(x/$uu)");

TEXT(beginproblem());
$pol =   nicestring([$cub0, $quad0, $lin0, $const0], ['x^3', 'x^2', 'x', '']);

BEGIN_TEXT
$BR
Consider the following indefinite integral.
\[ \int \frac{$pol}{x^4+$u2 x^2}\, dx\]
$BR$BR
The integrand has partial fractions decomposition: $BR
\[\frac{a}{x^2} + \frac{b}{x} + \frac{cx + d}{x^2+$u2}\]
where
$BR
\(a =\) \{ ans_rule()\}
$BR
\(b =\) \{ ans_rule()\}
$BR
\(c =\) \{ ans_rule()\}
$BR
\(d =\) \{ ans_rule()\}
$BR$BR
Now integrate term by term to evaluate the integral.
$BR
Answer: \{ ans_rule(60)\}
END_TEXT

ANS(Compute("$aa")->cmp());
ANS(Compute("$bb")->cmp());
ANS(Compute("$cc")->cmp());
ANS(Compute("$dd")->cmp());
ANS($f->cmp());

ENDDOCUMENT();
