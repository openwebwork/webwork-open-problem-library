# WeBWorK problem written by Carl Yao
# Portland Community College
#
# Multiply 2 fractions and an integer. Reduction is needed.
#
# Last edited: Carl Yao 12/17/13
#
# ENDDESCRIPTION

## DBsubject('Middle School')
## DBchapter('Fractions')
## DBsection('')
## KEYWORDS('multiply','fraction','negative')
## DBCCSS('5.NF.1')
## TitleText1('')
## EditionText1('')
## AuthorText1('')
## Section1('')
## Problem1('')
## Author('Carl Yao')
## Institution('PCC')

##############################################

DOCUMENT();

loadMacros(
  "PGstandard.pl",
  "MathObjects.pl",
  "PGML.pl",
  "contextFraction.pl",
  "PGcourse.pl",
);

##############################################

Context("LimitedFraction");
Context()->flags->set(requirePureFractions=>0);
Context()->flags->set(showMixedNumbers=>0);

@primes = (2, 3, 5, 7);
$den1=splice(@primes,random(0,$#primes,1),1);
$den2=splice(@primes,random(0,$#primes,1),1);
$factor=splice(@primes,random(0,$#primes,1),1);

push (@primes, 1);
$num1=splice(@primes,random(0,$#primes,1),1);
$num2=splice(@primes,random(0,$#primes,1),1);

$integer = $den1*$factor;

$num1den2factor = $den2;

$frac1 = Fraction($num1*$num1den2factor,$den1);
$frac2 = Fraction($num2,$den2*$num1den2factor);
$frac3 = Fraction($integer,1);

$ans = $frac1*$frac2*$frac3;

##############################################

TEXT(beginproblem());

BEGIN_PGML

Multiply: [`` \left(- [$frac1] \right) \cdot [$frac3] \cdot \left(- [$frac2] \right) ``]

    [___________]{$ans}

END_PGML

##############################################

BEGIN_PGML_SOLUTION

In this problem, there are two negative numbers being multiplied together. Their negative signs cancel, so the result will be positive.

When we multiply fractions, if there is an integer, we change the integer to a fraction by writing [`1`] as its denominator. For example, [` [$integer] = \frac{[$integer]}{1} `].

When multiplying with fractions, reduce numerators and denominators if possible. This way, we can avoid dealing with big numbers.

The full computation is:

    [``
\begin{aligned}
   \left(- [$frac1] \right) \cdot [$frac3] \cdot \left(- [$frac2] \right)
        &= [$frac1] \cdot [$frac3] \cdot [$frac2] \\
        &= [$frac1] \cdot \frac{[$integer]}{1} \cdot [$frac2] \\
        &= \frac{[$num1]\cdot[$num1den2factor]}{1 \cdot[$den1]} \cdot \frac{[$den1]\cdot[$factor]}{1}  \cdot \frac{[$num2]}{[$den2]\cdot[$num1den2factor]} \\
        &= \frac{[$num1]}{1} \cdot \frac{[$factor]}{1}  \cdot \frac{[$num2]}{[$den2]} \\
        &= [$ans] \\
\end{aligned}
    ``]

END_PGML_SOLUTION

ENDDOCUMENT();


