## DESCRIPTION
## Seting up an integral in cylindrical coordinates
## ENDDESCRIPTION

## KEYWORDS('Triple Integral','Polar Coordinates')

## DBsubject('Calculus')
## DBchapter('Multiple Integrals')
## DBsection('Triple Integrals in Cylindrical and Spherical Coordinates')
## Date('10/31/09')
## Author('Paul Pearson')
## Institution('Fort Lewis College')
## TitleText1('Calculus')
## TitleText2('Calculus')
## EditionText1('4')
## EditionText2('5')
## AuthorText1('Hughes-Hallett')
## AuthorText2('Hughes-Hallett')
## Section1('16.5')
## Section2('16.5')
## Problem1('4')
## Problem2('')

DOCUMENT();

loadMacros(
"PGstandard.pl",
"MathObjects.pl",
"PGcourse.pl",
"weightedGrader.pl",
"answerHints.pl",
);


TEXT(beginproblem());

###############################
#  Set-up

Context("Numeric")->variables->are(rho=>"Real",phi=>"Real",theta=>"Real");

$rho = random(2,6,1);


#############################
#  Main Text

BEGIN_TEXT
Suppose \( \displaystyle f(x,y,z) = \frac{1}{\sqrt{x^2+y^2+z^2}} \) 
and  \( W \) is the bottom half of a sphere of radius \( $rho \).  
Enter \( \rho \) as ${BITALIC}rho,${EITALIC} \( \phi \) as 
${BITALIC}phi,${EITALIC} and \( \theta \) as 
${BITALIC}theta.${EITALIC}  
$BR
$BR
(a) As an iterated integral, 
$BCENTER
\( \displaystyle 
\iiint\limits_{W} f \, dV 
=
\int_A^B \!\! \int_C^D \!\! \int_E^F 
\)
\{ ans_rule(20) \}
\( d\rho \, d\phi \, d\theta \)
$ECENTER
with limits of integration
$BR
A = \{ ans_rule(20) \}
$BR
B = \{ ans_rule(20) \}
$BR
C = \{ ans_rule(20) \}
$BR
D = \{ ans_rule(20) \}
$BR
E = \{ ans_rule(20) \}
$BR
F = \{ ans_rule(20) \}
$BR
$BR
(b) Evaluate the integral.
\{ ans_rule(40) \}
END_TEXT


##############################
#  Answer evaluators

install_weighted_grader();
$showPartialCorrectAnswers = 1;

#  integrand
WEIGHTED_ANS(Formula("rho * sin(phi)")->cmp()
->withPostFilter(AnswerHints(
  Formula("1/rho") => 
  "What is dV in spherical coordinates?",
  Formula("rho") => "You're forgetting sin(phi)",
  Formula("rho^2 * sin(phi)") => "You're missing something in your integrand",
  Formula("sin(phi)") => "You're forgetting rho",
)), 20
);

#  theta limits
WEIGHTED_ANS(Formula("0")->cmp(), 5 );
WEIGHTED_ANS(Formula("2*pi")->cmp(), 5 );

#  phi limits
WEIGHTED_ANS(Formula("pi/2")->cmp(), 5 );
WEIGHTED_ANS(Formula("pi")->cmp(), 5 );

#  rho limits
WEIGHTED_ANS(Formula("0")->cmp(), 5 );
WEIGHTED_ANS(Formula("$rho")->cmp(), 5 );


#  value of integral
WEIGHTED_ANS(Compute("pi * $rho^2")->cmp(), 50 );


COMMENT('MathObject version');
ENDDOCUMENT();