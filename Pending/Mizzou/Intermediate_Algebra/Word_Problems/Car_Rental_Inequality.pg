# DESCRIPTION
# Asks to use a linear inequality to solve a real life problem
# ENDDESCRIPTION

## DBsubject('Algebra')
## DBchapter(Equations and Inequalities')
## DBsection('Linear Inequalities')
## KEYWORDS('linear', 'inequalities', 'applications')
## Author('Rick Lynch')
## Institution('University of Missouri-Columbia')


###########################################################################
# initialization 
###########################################################################
DOCUMENT();
loadMacros(
  "MathObjects.pl",
  "PeriodicRerandomization.pl",
  "PGstandard.pl",
  "contextInequalities.pl",
  "AnswerFormatHelp.pl",
  "parserPopUp.pl",
);

TEXT(beginproblem());
PeriodicRerandomization("3");
$showPartialCorrectAnswers = 1;


###########################################################################
# setup contexts and variables 
###########################################################################
Context("Inequalities-Only")->variables->are(x=>"Real");
for ($i = 0; $i < random(10,50); $i++) {
  $case = random(0,1,1);
}

$b = random(20,34,2);
$a = $b + random(10,24,2);
do {
  $cents = random(10,30,1);
  $p = ($a - $b)*100/$cents;
} until ($p == floor($p));
$word = ($case == 0) ? "less" : "more";
if ($case == 0) {
  $pop = PopUp(["select", "less than", "more than"], "less than");
} else {
  $pop = PopUp(["select", "less than", "more than"], "more than");
}
$ans = $p;


###########################################################################
# state the problem 
###########################################################################
Context()->texStrings;
BEGIN_TEXT
A car rental company offers two plans for renting a car.
$PAR
Plan A: ${DOLLAR}$a per day and unlimited mileage
$BR
Plan B: ${DOLLAR}$b per day plus ${DOLLAR}0.$cents per mile
$PAR
Use an inequality to find the number of daily miles for which plan B costs $word than plan A. 
$PAR
Answer: \{$pop->menu\} \{ans_rule(20)\} miles
END_TEXT


###########################################################################
# check the answer  
###########################################################################
ANS($pop->cmp());
ANS(Compute($ans)->cmp());


###########################################################################
# use PeriodicRerandomization to write the answer and generate a new
# version of the problem
###########################################################################
if ($attempts_modp == 0 && $actualAttempts != 0) {
  BEGIN_TEXT
  $PAR
  ${BBOLD}Answer:${EBOLD} \{$pop->correct_ans\} \($ans\) miles
  $PAR
  END_TEXT
} else {
  BEGIN_TEXT
  $BR
  END_TEXT
}
Context()->normalStrings;
PeriodicStatus(); 

COMMENT('Features Periodic Rerandomization');
ENDDOCUMENT();